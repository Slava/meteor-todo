<head>
  <title>Todo list</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
    {{> page}}
</body>

<template name="page">
    {{#if showCreateDialog}}
        {{> createDialog}}
    {{/if}}

    <div class="tasks">
        <h1>Collections TODOs</h1>

        <div style="float: right">
          {{loginButtons align="right"}}
        </div>

        <div class="input-append">
            <div class="search">
                <input type="text" class="search_box" placeholder="Search for task title" id="search_query">
            </div>
        </div>
        <div class="input-append">
            <a class="btn add_task">Add task</a>
            {{#if hide_finished}}
                <a class="btn btn-success show_finished">Show finished</a>
            {{else}}
                <a class="btn hide_finished">Hide finished</a>
            {{/if}}
            <a class="btn btn-danger remove_finished">Remove finished</a>
        </div>

        {{#each tasks}}
            {{> task}}
        {{/each}}
    </div>
</template>

<template name="task">
    <div class="task well well-small">
        <button type="button" class="close cancel delete">&times;</button>
        <h3>
            {{#if done}}
                <button type="button" class="checkmark done">&#10003;</button>
            {{else}}
                <button type="button" class="checkmark muted">&#10003;</button>
            {{/if}}
            {{title}}
        </h3>
        <div class="creator muted">{{creator}}</div>
        <p>{{description}}</p>
    </div>
</template>

<template name="createDialog">
  <div class="modal">
    <div class="modal-header">
      <button type="button" class="close cancel">&times;</button>
      <h3>Add task</h3>
    </div>

    <div class="modal-body">
      {{#if error}}
        <div class="alert alert-error">{{error}}</div>
      {{/if}}

      <label>Title</label>
      <input type="text" class="title span5" id="add_title">

      <label>Description</label>
      <textarea class="description span5" id="add_desc"></textarea>
   </div>

    <div class="modal-footer">
      <a href="#" class="btn cancel">Cancel</a>
      <a href="#" class="btn btn-primary save">Add task</a>
    </div>
  </div>
</template>
